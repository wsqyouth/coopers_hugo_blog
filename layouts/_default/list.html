{{ define "main" }}
<div class="main-container">
    <div class="content-left">
        {{- $pages := union .RegularPages .Sections }}
        {{- if .IsHome }}
        {{- $pages = where site.RegularPages "Type" "in" site.Params.mainSections }}
        {{- end }}

        {{- $paginator := .Paginate $pages }}

        {{- if and .Title (not .IsHome) }}
        <header class="page-header">
            <h1>{{ .Title }}</h1>
            {{- if .Description }}
            <div class="post-description">
                {{ .Description }}
            </div>
            {{- end }}
        </header>
        {{- end }}

        {{ range $paginator.Pages }}
        <article class="post-entry">
            <header class="entry-header">
                <h2>
                    <a href="{{ .Permalink }}">{{ .Title }}</a>
                </h2>
            </header>
            <div class="entry-content">
                <p>{{ .Summary | plainify | htmlUnescape }}{{ if .Truncated }}...{{ end }}</p>
                <a class="read-more" href="{{ .Permalink }}">é˜…è¯»å…¨æ–‡ > </a>
            </div>
            <footer class="entry-footer">
                <span title='{{ .Date.Format "2006-01-02 15:04:05" }}'>
                    ðŸ•’ {{ .Date.Format "2006å¹´01æœˆ02æ—¥" }}
                </span>
                &nbsp;Â·&nbsp;
                <span>{{ .WordCount }} å­—</span>
            </footer>
        </article>
        {{ end }}

        {{- if gt $paginator.TotalPages 1 }}
        <footer class="page-pagination">
            <nav class="pagination-bar">
                {{- if $paginator.HasPrev }}
                <a class="prev" href="{{ $paginator.Prev.URL }}">ä¸Šä¸€é¡µ</a>
                {{- else }}
                <span class="prev disabled">ä¸Šä¸€é¡µ</span>
                {{- end }}
                <span class="num">ç¬¬ {{ $paginator.PageNumber }} / {{ $paginator.TotalPages }} é¡µ</span>
                {{- if $paginator.HasNext }}
                <a class="next" href="{{ $paginator.Next.URL }}">ä¸‹ä¸€é¡µ</a>
                {{- else }}
                <span class="next disabled">ä¸‹ä¸€é¡µ</span>
                {{- end }}
            </nav>
        </footer>
        {{- end }}
    </div>

    <div class="sidebar-right">
        {{ partial "sidebar.html" . }}
    </div>
</div>
{{ end }}