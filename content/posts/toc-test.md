---
title: "测试侧边目录和阅读进度功能"
date: 2025-10-09T22:20:32+08:00
lastmod: 2025-10-09T22:20:32+08:00
author: ["Cooper"]
tags: ["测试", "功能"]
categories: ["技术"]
description: "测试博客的侧边目录和阅读进度百分比功能"
weight: # 输入数字可以置顶文章，用来给文章展示排序
slug: ""
draft: false # 是否为草稿
comments: true
showToc: true # 显示目录
TocOpen: true # 自动展开目录
hidemeta: false # 是否隐藏文章的元信息，如发布日期、作者等
disableShare: true # 底部不显示分享栏
showbreadcrumbs: true # 顶部显示当前路径
searchHidden: false # 优化SEO
ShowReadingTime: true
ShowWordCount: true
cover:
    image: ""
    caption: ""
    alt: ""
    relative: false
---

## 介绍

这是一篇测试文章，用于验证博客的侧边目录和阅读进度百分比功能。文章包含多级标题，可以测试目录的展示效果和滚动高亮功能。

## 第一部分：基础功能

### 什么是侧边目录

侧边目录（Table of Contents, TOC）是一个导航工具，可以帮助读者快速定位文章的不同部分。在长文章中特别有用。

#### 侧边目录的优势

1. 快速导航
2. 清晰的文章结构
3. 提升阅读体验

#### 实现方式

侧边目录通过 JavaScript 动态跟踪滚动位置，高亮当前阅读的章节。

### 阅读进度显示

阅读进度以百分比的形式显示在"回到顶部"按钮上，实时反映当前阅读位置。

## 第二部分：技术实现

### HTML 结构

侧边目录的 HTML 结构相对复杂，需要正确解析 Markdown 中的标题层级。

#### 标题提取

使用正则表达式从内容中提取所有标题标签。

#### 层级处理

根据标题级别（h1-h6）构建嵌套的列表结构。

### CSS 样式

#### 基础样式

目录容器需要固定定位，并且要响应式设计。

```css
.toc-container.wide {
    position: absolute;
    height: 100%;
    width: var(--toc-width);
}
```

#### 高亮效果

当前阅读的标题会被加粗并放大。

```css
.active {
    font-size: 110%;
    font-weight: 600;
}
```

### JavaScript 交互

#### 滚动监听

通过监听滚动事件来判断当前阅读位置。

```javascript
window.addEventListener('scroll', () => {
    // 获取滚动位置
    const scrollPosition = window.pageYOffset;
    // 更新活动元素
    updateActiveElement(scrollPosition);
});
```

#### 平滑滚动

目录容器会自动滚动，确保当前标题始终可见。

## 第三部分：进阶功能

### 响应式设计

#### 桌面端

在宽屏设备上，目录显示在文章左侧。

#### 移动端

在窄屏设备上，目录折叠在文章顶部。

### 性能优化

#### 防抖处理

避免滚动事件触发过于频繁。

#### 缓存计算

缓存元素位置信息，减少重复计算。

## 第四部分：实际应用

### 博客文章

长篇技术博客特别需要侧边目录。

#### 教程文章

分步骤的教程文章可以通过目录快速跳转。

#### 文档页面

产品文档和 API 文档必不可少的功能。

### 新闻网站

长篇深度报道也需要目录导航。

## 第五部分：用户体验

### 视觉反馈

#### 高亮显示

当前阅读的章节在目录中高亮显示。

#### 进度指示

百分比数字清晰显示阅读进度。

### 交互设计

#### 点击跳转

点击目录项可以平滑滚动到对应位置。

#### 返回顶部

右下角的按钮可以快速返回页面顶部。

## 第六部分：兼容性

### 浏览器支持

现代浏览器都支持这些功能。

#### Chrome/Edge

完美支持所有特性。

#### Firefox

支持良好，无已知问题。

#### Safari

需要注意某些 CSS 属性的兼容性。

### 移动设备

#### iOS

Safari 浏览器表现良好。

#### Android

Chrome 浏览器完全兼容。

## 结论

侧边目录和阅读进度是提升博客阅读体验的重要功能。通过合理的技术实现，可以为读者提供更好的导航和定位能力。

### 主要优势

1. 改善长文章的可读性
2. 提供清晰的文章结构
3. 增强用户交互体验

### 未来改进

1. 添加搜索功能
2. 支持目录折叠
3. 优化移动端体验

感谢阅读！如果你觉得这个功能有用，欢迎在评论区留言。
