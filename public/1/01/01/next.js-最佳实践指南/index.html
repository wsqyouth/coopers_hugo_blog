<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Next.js æœ€ä½³å®è·µæŒ‡å— | Cooper&#39;s Blog</title>
<meta name="keywords" content="Next.js, React, æ€§èƒ½ä¼˜åŒ–, æœ€ä½³å®è·µ">
<meta name="description" content="æ·±å…¥æ¢è®¨ Next.js å¼€å‘ä¸­çš„æœ€ä½³å®è·µï¼ŒåŒ…æ‹¬æ€§èƒ½ä¼˜åŒ–ã€SEO é…ç½®ã€éƒ¨ç½²ç­–ç•¥ç­‰æ ¸å¿ƒè¯é¢˜ã€‚">
<meta name="author" content="Cooper">
<link rel="canonical" href="http://localhost:1313/1/01/01/next.js-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.3a03b24dcf4f9157cfd4aadabdb9b507d3b072faa70e28f7f74818e75e0f30d0.css" integrity="sha256-OgOyTc9PkVfP1Kravbm1B9OwcvqnDij390gY514PMNA=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/img/Q.gif">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/img/Q.gif">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/img/Q.gif">
<link rel="apple-touch-icon" href="http://localhost:1313/Q.gif">
<link rel="mask-icon" href="http://localhost:1313/Q.gif">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/1/01/01/next.js-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">



<link rel="stylesheet" href="/assets/css/shortcode.min.56cb41cd6a71c3c7dc58d21c9aebe0a4e9d7be9ddff6e7e8edd1c9869af7ce6f.css" integrity="sha256-VstBzWpxw8fcWNIcmuvgpOnXvp3f9ufo7dHJhpr3zm8=" crossorigin="anonymous">
<meta property="og:url" content="http://localhost:1313/1/01/01/next.js-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97/">
  <meta property="og:site_name" content="Cooper&#39;s Blog">
  <meta property="og:title" content="Next.js æœ€ä½³å®è·µæŒ‡å—">
  <meta property="og:description" content="æ·±å…¥æ¢è®¨ Next.js å¼€å‘ä¸­çš„æœ€ä½³å®è·µï¼ŒåŒ…æ‹¬æ€§èƒ½ä¼˜åŒ–ã€SEO é…ç½®ã€éƒ¨ç½²ç­–ç•¥ç­‰æ ¸å¿ƒè¯é¢˜ã€‚">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:tag" content="Next.js">
    <meta property="article:tag" content="React">
    <meta property="article:tag" content="æ€§èƒ½ä¼˜åŒ–">
    <meta property="article:tag" content="æœ€ä½³å®è·µ">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Next.js æœ€ä½³å®è·µæŒ‡å—">
<meta name="twitter:description" content="æ·±å…¥æ¢è®¨ Next.js å¼€å‘ä¸­çš„æœ€ä½³å®è·µï¼ŒåŒ…æ‹¬æ€§èƒ½ä¼˜åŒ–ã€SEO é…ç½®ã€éƒ¨ç½²ç­–ç•¥ç­‰æ ¸å¿ƒè¯é¢˜ã€‚">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Next.js æœ€ä½³å®è·µæŒ‡å—",
      "item": "http://localhost:1313/1/01/01/next.js-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Next.js æœ€ä½³å®è·µæŒ‡å—",
  "name": "Next.js æœ€ä½³å®è·µæŒ‡å—",
  "description": "æ·±å…¥æ¢è®¨ Next.js å¼€å‘ä¸­çš„æœ€ä½³å®è·µï¼ŒåŒ…æ‹¬æ€§èƒ½ä¼˜åŒ–ã€SEO é…ç½®ã€éƒ¨ç½²ç­–ç•¥ç­‰æ ¸å¿ƒè¯é¢˜ã€‚",
  "keywords": [
    "Next.js", "React", "æ€§èƒ½ä¼˜åŒ–", "æœ€ä½³å®è·µ"
  ],
  "articleBody": "Next.js æœ€ä½³å®è·µæŒ‡å— Next.js ä½œä¸ºç°ä»£ React å…¨æ ˆæ¡†æ¶ï¼Œæä¾›äº†å¼ºå¤§çš„åŠŸèƒ½å’Œçµæ´»æ€§ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œéµå¾ªæœ€ä½³å®è·µå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ„å»ºæ›´å¿«ã€æ›´å¯é çš„åº”ç”¨ç¨‹åºã€‚\n1. é¡¹ç›®ç»“æ„ç»„ç»‡ æ¨èçš„ç›®å½•ç»“æ„ 1 2 3 4 5 6 7 8 9 10 11 12 src/ â”œâ”€â”€ app/ # App Router (Next.js 13+) â”‚ â”œâ”€â”€ globals.css â”‚ â”œâ”€â”€ layout.tsx â”‚ â””â”€â”€ page.tsx â”œâ”€â”€ components/ # å¯å¤ç”¨ç»„ä»¶ â”‚ â”œâ”€â”€ ui/ # åŸºç¡€ UI ç»„ä»¶ â”‚ â””â”€â”€ features/ # ä¸šåŠ¡ç»„ä»¶ â”œâ”€â”€ lib/ # å·¥å…·å‡½æ•°å’Œé…ç½® â”œâ”€â”€ hooks/ # è‡ªå®šä¹‰ Hooks â”œâ”€â”€ types/ # TypeScript ç±»å‹å®šä¹‰ â””â”€â”€ styles/ # æ ·å¼æ–‡ä»¶ ç»„ä»¶ç»„ç»‡åŸåˆ™ å•ä¸€èŒè´£ - æ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½ å¯å¤ç”¨æ€§ - æå–é€šç”¨é€»è¾‘åˆ°å…±äº«ç»„ä»¶ æ˜ç¡®è¾¹ç•Œ - UI ç»„ä»¶å’Œä¸šåŠ¡ç»„ä»¶åˆ†ç¦» 2. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ å›¾ç‰‡ä¼˜åŒ– ä½¿ç”¨ Next.js å†…ç½®çš„ Image ç»„ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 import Image from 'next/image' export function Hero() { return ( \u003cImage src=\"/hero.jpg\" alt=\"Hero image\" width={800} height={600} priority // ä¼˜å…ˆåŠ è½½ placeholder=\"blur\" // æ¨¡ç³Šå ä½ç¬¦ blurDataURL=\"data:image/jpeg;base64,...\" /\u003e ) } ä»£ç åˆ†å‰² åˆ©ç”¨åŠ¨æ€å¯¼å…¥è¿›è¡Œä»£ç åˆ†å‰²ï¼š\n1 2 3 4 5 6 7 8 9 10 import dynamic from 'next/dynamic' // æ‡’åŠ è½½ç»„ä»¶ const DynamicComponent = dynamic(() =\u003e import('../components/Heavy')) // ç¦ç”¨ SSR const NoSSRComponent = dynamic( () =\u003e import('../components/ClientOnly'), { ssr: false } ) å­—ä½“ä¼˜åŒ– ä½¿ç”¨ next/font ä¼˜åŒ–å­—ä½“åŠ è½½ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 import { Inter } from 'next/font/google' const inter = Inter({ subsets: ['latin'], display: 'swap', }) export default function RootLayout({ children }) { return ( \u003chtml lang=\"en\" className={inter.className}\u003e \u003cbody\u003e{children}\u003c/body\u003e \u003c/html\u003e ) } 3. SEO ä¼˜åŒ– Metadata API ä½¿ç”¨æ–°çš„ Metadata APIï¼š\n1 2 3 4 5 6 7 8 9 10 11 import type { Metadata } from 'next' export const metadata: Metadata = { title: 'My Blog', description: 'A blog about web development', openGraph: { title: 'My Blog', description: 'A blog about web development', images: ['/og-image.jpg'], }, } åŠ¨æ€ Metadata 1 2 3 4 5 6 7 8 9 10 11 12 13 export async function generateMetadata({ params }): Promise\u003cMetadata\u003e { const post = await getPost(params.slug) return { title: post.title, description: post.excerpt, openGraph: { title: post.title, description: post.excerpt, images: [post.coverImage], }, } } ç»“æ„åŒ–æ•°æ® 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 export default function BlogPost({ post }) { const jsonLd = { '@context': 'https://schema.org', '@type': 'BlogPosting', headline: post.title, author: { '@type': 'Person', name: post.author, }, datePublished: post.publishedAt, } return ( \u003c\u003e \u003cscript type=\"application/ld+json\" dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }} /\u003e \u003carticle\u003e{/* æ–‡ç« å†…å®¹ */}\u003c/article\u003e \u003c/\u003e ) } 4. æ•°æ®è·å–ç­–ç•¥ æœåŠ¡å™¨ç»„ä»¶ä¼˜å…ˆ 1 2 3 4 5 6 7 8 9 10 11 12 // æœåŠ¡å™¨ç»„ä»¶ - é»˜è®¤ async function Posts() { const posts = await getPosts() return ( \u003cdiv\u003e {posts.map(post =\u003e ( \u003cPostCard key={post.id} post={post} /\u003e ))} \u003c/div\u003e ) } å®¢æˆ·ç«¯ç»„ä»¶çš„ä½¿ç”¨ åªæœ‰åœ¨éœ€è¦äº¤äº’æ€§æ—¶æ‰ä½¿ç”¨ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 'use client' import { useState } from 'react' export function SearchBox() { const [query, setQuery] = useState('') return ( \u003cinput value={query} onChange={(e) =\u003e setQuery(e.target.value)} placeholder=\"æœç´¢æ–‡ç« ...\" /\u003e ) } 5. é”™è¯¯å¤„ç† Error Boundaries 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 // app/error.tsx 'use client' export default function Error({ error, reset, }: { error: Error reset: () =\u003e void }) { return ( \u003cdiv\u003e \u003ch2\u003eSomething went wrong!\u003c/h2\u003e \u003cbutton onClick={() =\u003e reset()}\u003eTry again\u003c/button\u003e \u003c/div\u003e ) } åŠ è½½çŠ¶æ€ 1 2 3 4 // app/loading.tsx export default function Loading() { return \u003cdiv\u003eLoading...\u003c/div\u003e } 404 é¡µé¢ 1 2 3 4 5 6 7 8 9 // app/not-found.tsx export default function NotFound() { return ( \u003cdiv\u003e \u003ch2\u003eNot Found\u003c/h2\u003e \u003cp\u003eCould not find requested resource\u003c/p\u003e \u003c/div\u003e ) } 6. ç±»å‹å®‰å…¨ ä¸¥æ ¼çš„ TypeScript é…ç½® 1 2 3 4 5 6 7 8 9 10 { \"compilerOptions\": { \"strict\": true, \"noImplicitAny\": true, \"noImplicitReturns\": true, \"noImplicitThis\": true, \"noUnusedLocals\": true, \"noUnusedParameters\": true } } æ¥å£å®šä¹‰ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 interface BlogPost { id: string title: string content: string publishedAt: Date author: { name: string email: string } } interface PostPageProps { params: { slug: string } searchParams: { [key: string]: string | string[] | undefined } } 7. éƒ¨ç½²æœ€ä½³å®è·µ ç¯å¢ƒå˜é‡ç®¡ç† 1 2 3 # .env.local NEXT_PUBLIC_API_URL=https://api.example.com DATABASE_URL=postgresql://... æ„å»ºä¼˜åŒ– 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 // next.config.js /** @type {import('next').NextConfig} */ const nextConfig = { experimental: { optimizePackageImports: ['lucide-react'], }, images: { domains: ['example.com'], }, compiler: { removeConsole: process.env.NODE_ENV === 'production', }, } module.exports = nextConfig æ€»ç»“ éµå¾ªè¿™äº›æœ€ä½³å®è·µå¯ä»¥å¸®åŠ©ä½ ï¼š\nğŸš€ æå‡æ€§èƒ½ - æ›´å¿«çš„åŠ è½½é€Ÿåº¦å’Œæ›´å¥½çš„ç”¨æˆ·ä½“éªŒ ğŸ” ä¼˜åŒ– SEO - æ›´å¥½çš„æœç´¢å¼•æ“æ’å ğŸ› ï¸ æé«˜å¯ç»´æŠ¤æ€§ - æ¸…æ™°çš„ä»£ç ç»“æ„å’Œç±»å‹å®‰å…¨ ğŸ“± å¢å¼ºå¯è®¿é—®æ€§ - æ›´å¥½çš„æ— éšœç¢æ”¯æŒ è®°ä½ï¼Œæœ€ä½³å®è·µä¼šéšç€ Next.js ç‰ˆæœ¬æ›´æ–°è€Œæ¼”è¿›ï¼Œå»ºè®®å®šæœŸæŸ¥çœ‹å®˜æ–¹æ–‡æ¡£è·å–æœ€æ–°ä¿¡æ¯ã€‚\nğŸ’¡ æç¤º: è¿™äº›å®è·µåœ¨æˆ‘çš„åšå®¢é¡¹ç›®ä¸­éƒ½æœ‰å®é™…åº”ç”¨ï¼Œä½ å¯ä»¥æŸ¥çœ‹æºç äº†è§£å…·ä½“å®ç°ã€‚\n",
  "wordCount" : "1192",
  "inLanguage": "en",
  "datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Cooper"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/1/01/01/next.js-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5%E6%8C%87%E5%8D%97/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Cooper's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/img/Q.gif"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Cooper&#39;s Blog (Alt + H)">Cooper&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="é¦–é¡µ">
                    <span>é¦–é¡µ</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives/" title="å½’æ¡£">
                    <span>å½’æ¡£</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/categories/" title="åˆ†ç±»">
                    <span>åˆ†ç±»</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/about/" title="å…³äº">
                    <span>å…³äº</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">
<div class="main-container single-post-layout">
    <div class="single-content-wrapper">
        <a class="back-home-link" href="http://localhost:1313/">â€¹ è¿”å›é¦–é¡µ</a>

        <article class="post-single">
            <header class="post-header">
                <h1 class="post-title">Next.js æœ€ä½³å®è·µæŒ‡å—</h1>
                <div class="post-meta">
                    ğŸ•’ 0001å¹´01æœˆ01æ—¥ Â· 1192 å­—
                    Â· ğŸ“‚ <a href="http://localhost:1313/%20categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB">æŠ€æœ¯åˆ†äº«</a>
                </div>
            </header>

            <div class="post-content">
                <h1 id="nextjs-æœ€ä½³å®è·µæŒ‡å—">Next.js æœ€ä½³å®è·µæŒ‡å—</h1>
<p>Next.js ä½œä¸ºç°ä»£ React å…¨æ ˆæ¡†æ¶ï¼Œæä¾›äº†å¼ºå¤§çš„åŠŸèƒ½å’Œçµæ´»æ€§ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œéµå¾ªæœ€ä½³å®è·µå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ„å»ºæ›´å¿«ã€æ›´å¯é çš„åº”ç”¨ç¨‹åºã€‚</p>
<h2 id="1-é¡¹ç›®ç»“æ„ç»„ç»‡">1. é¡¹ç›®ç»“æ„ç»„ç»‡</h2>
<h3 id="æ¨èçš„ç›®å½•ç»“æ„">æ¨èçš„ç›®å½•ç»“æ„</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">src/
</span></span><span class="line"><span class="cl">â”œâ”€â”€ app/              # App Router (Next.js 13+)
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ globals.css
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ layout.tsx
</span></span><span class="line"><span class="cl">â”‚   â””â”€â”€ page.tsx
</span></span><span class="line"><span class="cl">â”œâ”€â”€ components/       # å¯å¤ç”¨ç»„ä»¶
</span></span><span class="line"><span class="cl">â”‚   â”œâ”€â”€ ui/          # åŸºç¡€ UI ç»„ä»¶
</span></span><span class="line"><span class="cl">â”‚   â””â”€â”€ features/    # ä¸šåŠ¡ç»„ä»¶
</span></span><span class="line"><span class="cl">â”œâ”€â”€ lib/             # å·¥å…·å‡½æ•°å’Œé…ç½®
</span></span><span class="line"><span class="cl">â”œâ”€â”€ hooks/           # è‡ªå®šä¹‰ Hooks
</span></span><span class="line"><span class="cl">â”œâ”€â”€ types/           # TypeScript ç±»å‹å®šä¹‰
</span></span><span class="line"><span class="cl">â””â”€â”€ styles/          # æ ·å¼æ–‡ä»¶
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ç»„ä»¶ç»„ç»‡åŸåˆ™">ç»„ä»¶ç»„ç»‡åŸåˆ™</h3>
<ol>
<li><strong>å•ä¸€èŒè´£</strong> - æ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½</li>
<li><strong>å¯å¤ç”¨æ€§</strong> - æå–é€šç”¨é€»è¾‘åˆ°å…±äº«ç»„ä»¶</li>
<li><strong>æ˜ç¡®è¾¹ç•Œ</strong> - UI ç»„ä»¶å’Œä¸šåŠ¡ç»„ä»¶åˆ†ç¦»</li>
</ol>
<h2 id="2-æ€§èƒ½ä¼˜åŒ–ç­–ç•¥">2. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥</h2>
<h3 id="å›¾ç‰‡ä¼˜åŒ–">å›¾ç‰‡ä¼˜åŒ–</h3>
<p>ä½¿ç”¨ Next.js å†…ç½®çš„ <code>Image</code> ç»„ä»¶ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">Image</span> <span class="kr">from</span> <span class="s1">&#39;next/image&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kd">function</span> <span class="nx">Hero() {</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">Image</span>
</span></span><span class="line"><span class="cl">      <span class="na">src</span><span class="o">=</span><span class="s">&#34;/hero.jpg&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="na">alt</span><span class="o">=</span><span class="s">&#34;Hero image&#34;</span>
</span></span><span class="line"><span class="cl">      <span class="na">width</span><span class="o">=</span><span class="p">{</span><span class="mi">800</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="na">height</span><span class="o">=</span><span class="p">{</span><span class="mi">600</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="na">priority</span> <span class="c1">// ä¼˜å…ˆåŠ è½½
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;blur&#34;</span> <span class="c1">// æ¨¡ç³Šå ä½ç¬¦
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="na">blurDataURL</span><span class="o">=</span><span class="s">&#34;data:image/jpeg;base64,...&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ä»£ç åˆ†å‰²">ä»£ç åˆ†å‰²</h3>
<p>åˆ©ç”¨åŠ¨æ€å¯¼å…¥è¿›è¡Œä»£ç åˆ†å‰²ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">dynamic</span> <span class="kr">from</span> <span class="s1">&#39;next/dynamic&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// æ‡’åŠ è½½ç»„ä»¶
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">DynamicComponent</span> <span class="o">=</span> <span class="nx">dynamic</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="kr">import</span><span class="p">(</span><span class="s1">&#39;../components/Heavy&#39;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// ç¦ç”¨ SSR
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">const</span> <span class="nx">NoSSRComponent</span> <span class="o">=</span> <span class="nx">dynamic</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">  <span class="p">()</span> <span class="o">=&gt;</span> <span class="kr">import</span><span class="p">(</span><span class="s1">&#39;../components/ClientOnly&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">  <span class="p">{</span> <span class="nx">ssr</span>: <span class="kt">false</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="å­—ä½“ä¼˜åŒ–">å­—ä½“ä¼˜åŒ–</h3>
<p>ä½¿ç”¨ <code>next/font</code> ä¼˜åŒ–å­—ä½“åŠ è½½ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">Inter</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;next/font/google&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">inter</span> <span class="o">=</span> <span class="nx">Inter</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">subsets</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;latin&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="nx">display</span><span class="o">:</span> <span class="s1">&#39;swap&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">RootLayout</span><span class="p">({</span> <span class="nx">children</span> <span class="p">})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span> <span class="na">className</span><span class="o">=</span><span class="p">{</span><span class="nx">inter</span><span class="p">.</span><span class="nx">className</span><span class="p">}&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;{</span><span class="nx">children</span><span class="p">}&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="3-seo-ä¼˜åŒ–">3. SEO ä¼˜åŒ–</h2>
<h3 id="metadata-api">Metadata API</h3>
<p>ä½¿ç”¨æ–°çš„ Metadata APIï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="kr">type</span> <span class="p">{</span> <span class="nx">Metadata</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;next&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">const</span> <span class="nx">metadata</span>: <span class="kt">Metadata</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;My Blog&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;A blog about web development&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">openGraph</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;My Blog&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">description</span><span class="o">:</span> <span class="s1">&#39;A blog about web development&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">images</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;/og-image.jpg&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="åŠ¨æ€-metadata">åŠ¨æ€ Metadata</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">export</span> <span class="kr">async</span> <span class="kd">function</span> <span class="nx">generateMetadata</span><span class="p">({</span> <span class="nx">params</span> <span class="p">})</span><span class="o">:</span> <span class="nx">Promise</span><span class="p">&lt;</span><span class="nt">Metadata</span><span class="p">&gt;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">post</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getPost</span><span class="p">(</span><span class="nx">params</span><span class="p">.</span><span class="nx">slug</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">title</span>: <span class="kt">post.title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">description</span>: <span class="kt">post.excerpt</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">openGraph</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">title</span>: <span class="kt">post.title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">description</span>: <span class="kt">post.excerpt</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">images</span><span class="o">:</span> <span class="p">[</span><span class="nx">post</span><span class="p">.</span><span class="nx">coverImage</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="ç»“æ„åŒ–æ•°æ®">ç»“æ„åŒ–æ•°æ®</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">BlogPost</span><span class="p">({</span> <span class="nx">post</span> <span class="p">})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">jsonLd</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;@context&#39;</span><span class="o">:</span> <span class="s1">&#39;https://schema.org&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;@type&#39;</span><span class="o">:</span> <span class="s1">&#39;BlogPosting&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">headline</span>: <span class="kt">post.title</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nx">author</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="s1">&#39;@type&#39;</span><span class="o">:</span> <span class="s1">&#39;Person&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">      <span class="nx">name</span>: <span class="kt">post.author</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="nx">datePublished</span>: <span class="kt">post.publishedAt</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">script</span>
</span></span><span class="line"><span class="cl">        <span class="na">type</span><span class="o">=</span><span class="s">&#34;application/ld+json&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="na">dangerouslySetInnerHTML</span><span class="o">=</span><span class="p">{{</span> <span class="nx">__html</span>: <span class="kt">JSON.stringify</span><span class="p">(</span><span class="nx">jsonLd</span><span class="p">)</span> <span class="p">}}</span>
</span></span><span class="line"><span class="cl">      <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">article</span><span class="p">&gt;{</span><span class="cm">/* æ–‡ç« å†…å®¹ */</span><span class="p">}&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="4-æ•°æ®è·å–ç­–ç•¥">4. æ•°æ®è·å–ç­–ç•¥</h2>
<h3 id="æœåŠ¡å™¨ç»„ä»¶ä¼˜å…ˆ">æœåŠ¡å™¨ç»„ä»¶ä¼˜å…ˆ</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="c1">// æœåŠ¡å™¨ç»„ä»¶ - é»˜è®¤
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">async</span> <span class="kd">function</span> <span class="nx">Posts() {</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="nx">posts</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">getPosts</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">{</span><span class="nx">posts</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">post</span> <span class="o">=&gt;</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">PostCard</span> <span class="na">key</span><span class="o">=</span><span class="p">{</span><span class="nx">post</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span> <span class="na">post</span><span class="o">=</span><span class="p">{</span><span class="nx">post</span><span class="p">}</span> <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">))}</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="å®¢æˆ·ç«¯ç»„ä»¶çš„ä½¿ç”¨">å®¢æˆ·ç«¯ç»„ä»¶çš„ä½¿ç”¨</h3>
<p>åªæœ‰åœ¨éœ€è¦äº¤äº’æ€§æ—¶æ‰ä½¿ç”¨ï¼š</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="s1">&#39;use client&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">import</span> <span class="p">{</span> <span class="nx">useState</span> <span class="p">}</span> <span class="kr">from</span> <span class="s1">&#39;react&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="kd">function</span> <span class="nx">SearchBox() {</span>
</span></span><span class="line"><span class="cl">  <span class="kr">const</span> <span class="p">[</span><span class="nx">query</span><span class="p">,</span> <span class="nx">setQuery</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">input</span>
</span></span><span class="line"><span class="cl">      <span class="na">value</span><span class="o">=</span><span class="p">{</span><span class="nx">query</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">      <span class="na">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">setQuery</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
</span></span><span class="line"><span class="cl">      <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;æœç´¢æ–‡ç« ...&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">/&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="5-é”™è¯¯å¤„ç†">5. é”™è¯¯å¤„ç†</h2>
<h3 id="error-boundaries">Error Boundaries</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="c1">// app/error.tsx
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="s1">&#39;use client&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nb">Error</span><span class="p">({</span>
</span></span><span class="line"><span class="cl">  <span class="nx">error</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="nx">reset</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">error</span>: <span class="kt">Error</span>
</span></span><span class="line"><span class="cl">  <span class="nx">reset</span><span class="o">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">void</span>
</span></span><span class="line"><span class="cl"><span class="p">})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">Something</span> <span class="nx">went</span> <span class="nx">wrong</span><span class="o">!</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">reset</span><span class="p">()}&gt;</span><span class="nx">Try</span> <span class="nx">again</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="åŠ è½½çŠ¶æ€">åŠ è½½çŠ¶æ€</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="c1">// app/loading.tsx
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Loading() {</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span><span class="nx">Loading</span><span class="p">...&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="404-é¡µé¢">404 é¡µé¢</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="c1">// app/not-found.tsx
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">NotFound() {</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span><span class="nx">Not</span> <span class="nx">Found</span><span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span><span class="nx">Could</span> <span class="nx">not</span> <span class="nx">find</span> <span class="nx">requested</span> <span class="nx">resource</span><span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="6-ç±»å‹å®‰å…¨">6. ç±»å‹å®‰å…¨</h2>
<h3 id="ä¸¥æ ¼çš„-typescript-é…ç½®">ä¸¥æ ¼çš„ TypeScript é…ç½®</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;compilerOptions&#34;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;strict&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;noImplicitAny&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;noImplicitReturns&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;noImplicitThis&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;noUnusedLocals&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;noUnusedParameters&#34;</span><span class="p">:</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æ¥å£å®šä¹‰">æ¥å£å®šä¹‰</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-tsx" data-lang="tsx"><span class="line"><span class="cl"><span class="kr">interface</span> <span class="nx">BlogPost</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">id</span>: <span class="kt">string</span>
</span></span><span class="line"><span class="cl">  <span class="nx">title</span>: <span class="kt">string</span>
</span></span><span class="line"><span class="cl">  <span class="nx">content</span>: <span class="kt">string</span>
</span></span><span class="line"><span class="cl">  <span class="nx">publishedAt</span>: <span class="kt">Date</span>
</span></span><span class="line"><span class="cl">  <span class="nx">author</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span>: <span class="kt">string</span>
</span></span><span class="line"><span class="cl">    <span class="nx">email</span>: <span class="kt">string</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">interface</span> <span class="nx">PostPageProps</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">params</span><span class="o">:</span> <span class="p">{</span> <span class="nx">slug</span>: <span class="kt">string</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">searchParams</span><span class="o">:</span> <span class="p">{</span> <span class="p">[</span><span class="nx">key</span>: <span class="kt">string</span><span class="p">]</span><span class="o">:</span> <span class="kt">string</span> <span class="o">|</span> <span class="kt">string</span><span class="p">[]</span> <span class="o">|</span> <span class="kc">undefined</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="7-éƒ¨ç½²æœ€ä½³å®è·µ">7. éƒ¨ç½²æœ€ä½³å®è·µ</h2>
<h3 id="ç¯å¢ƒå˜é‡ç®¡ç†">ç¯å¢ƒå˜é‡ç®¡ç†</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># .env.local</span>
</span></span><span class="line"><span class="cl"><span class="nv">NEXT_PUBLIC_API_URL</span><span class="o">=</span>https://api.example.com
</span></span><span class="line"><span class="cl"><span class="nv">DATABASE_URL</span><span class="o">=</span>postgresql://...
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="æ„å»ºä¼˜åŒ–">æ„å»ºä¼˜åŒ–</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// next.config.js
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="cm">/** @type {import(&#39;next&#39;).NextConfig} */</span>
</span></span><span class="line"><span class="cl"><span class="kr">const</span> <span class="nx">nextConfig</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">experimental</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">optimizePackageImports</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;lucide-react&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">images</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">domains</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;example.com&#39;</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="nx">compiler</span><span class="o">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">removeConsole</span><span class="o">:</span> <span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">NODE_ENV</span> <span class="o">===</span> <span class="s1">&#39;production&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">  <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">nextConfig</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>éµå¾ªè¿™äº›æœ€ä½³å®è·µå¯ä»¥å¸®åŠ©ä½ ï¼š</p>
<ul>
<li>ğŸš€ <strong>æå‡æ€§èƒ½</strong> - æ›´å¿«çš„åŠ è½½é€Ÿåº¦å’Œæ›´å¥½çš„ç”¨æˆ·ä½“éªŒ</li>
<li>ğŸ” <strong>ä¼˜åŒ– SEO</strong> - æ›´å¥½çš„æœç´¢å¼•æ“æ’å</li>
<li>ğŸ› ï¸ <strong>æé«˜å¯ç»´æŠ¤æ€§</strong> - æ¸…æ™°çš„ä»£ç ç»“æ„å’Œç±»å‹å®‰å…¨</li>
<li>ğŸ“± <strong>å¢å¼ºå¯è®¿é—®æ€§</strong> - æ›´å¥½çš„æ— éšœç¢æ”¯æŒ</li>
</ul>
<p>è®°ä½ï¼Œæœ€ä½³å®è·µä¼šéšç€ Next.js ç‰ˆæœ¬æ›´æ–°è€Œæ¼”è¿›ï¼Œå»ºè®®å®šæœŸæŸ¥çœ‹å®˜æ–¹æ–‡æ¡£è·å–æœ€æ–°ä¿¡æ¯ã€‚</p>
<hr>
<blockquote>
<p>ğŸ’¡ <strong>æç¤º</strong>: è¿™äº›å®è·µåœ¨æˆ‘çš„åšå®¢é¡¹ç›®ä¸­éƒ½æœ‰å®é™…åº”ç”¨ï¼Œä½ å¯ä»¥æŸ¥çœ‹æºç äº†è§£å…·ä½“å®ç°ã€‚</p></blockquote>

            </div>

            <footer class="post-footer">
                
                <ul class="post-tags">
                    
                    <li><a href="http://localhost:1313/%20tags/next.js">Next.js</a></li>
                    
                    <li><a href="http://localhost:1313/%20tags/react">React</a></li>
                    
                    <li><a href="http://localhost:1313/%20tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96">æ€§èƒ½ä¼˜åŒ–</a></li>
                    
                    <li><a href="http://localhost:1313/%20tags/%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">æœ€ä½³å®è·µ</a></li>
                    
                </ul>

                
                
                <a id="edit-btn"
                   href="https://github.com/wsqyouth/blog/edit/main/content/posts/other/next-js-best-practices.md"
                   target="_blank"
                   rel="noopener noreferrer"
                   style="display: none;">
                    ğŸ“ ç¼–è¾‘æ­¤æ–‡
                </a>
                <script>
                    (function () {
                        
                        const isAdmin = localStorage.getItem('blog-admin');
                        if (isAdmin === 'true') {
                            const btn = document.getElementById('edit-btn');
                            if (btn) {
                                btn.style.display = 'inline-block';
                            }
                        }
                    })();
                </script>
                
            </footer>
        </article>
    </div>
</div>

    </main>
    
<footer class="footer">
    <div class="footer-slogan">å‡¡æ˜¯è¿‡å¾€ï¼Œçš†ä¸ºåºç« </div>
    <span>&copy; 2025 <a href="http://localhost:1313/">Cooper&#39;s Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <span class="topInner">
        <svg class="topSvg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
        <span id="read_progress"></span>
    </span>
</a>

<script>
    document.addEventListener('scroll', function (e) {
        const readProgress = document.getElementById("read_progress");
        const scrollHeight = document.documentElement.scrollHeight;
        const clientHeight = document.documentElement.clientHeight;
        const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
        readProgress.innerText = ((scrollTop / (scrollHeight - clientHeight)).toFixed(2) * 100).toFixed(0);
    })
</script>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        
        if (codeblock.closest('.pe-code-block-wrap')) {
            return;
        }

        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>

<script>
    document.querySelectorAll('pre > code').forEach((codeBlock) => {
        const codeBlockWrap = codeBlock.closest('.pe-code-block-wrap')
        if (!codeBlockWrap) return;

        const copyButton = codeBlockWrap.querySelector('button')
        if (!copyButton) return;

        function copyingDone() {
            copyButton.innerHTML = '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="pe-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.0633 5.67375C18.5196 5.98487 18.6374 6.607 18.3262 7.06331L10.8262 18.0633C10.6585 18.3093 10.3898 18.4678 10.0934 18.4956C9.79688 18.5234 9.50345 18.4176 9.29289 18.2071L4.79289 13.7071C4.40237 13.3166 4.40237 12.6834 4.79289 12.2929C5.18342 11.9023 5.81658 11.9023 6.20711 12.2929L9.85368 15.9394L16.6738 5.93664C16.9849 5.48033 17.607 5.36263 18.0633 5.67375Z" fill="currentColor"></path></svg>'
            setTimeout(() => {
                copyButton.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" class="pe-icon"><path fill="currentColor" fill-rule="evenodd" d="M7 5a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v9a3 3 0 0 1-3 3h-2v2a3 3 0 0 1-3 3H5a3 3 0 0 1-3-3v-9a3 3 0 0 1 3-3h2zm2 2h5a3 3 0 0 1 3 3v5h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1h-9a1 1 0 0 0-1 1zM5 9a1 1 0 0 0-1 1v9a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1v-9a1 1 0 0 0-1-1z" clip-rule="evenodd"></path></svg>'
            }, 2000);
        }

        copyButton.addEventListener('click', (cb) => {
            
            cb.stopPropagation();
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeBlock.textContent).then(() => {
                    copyingDone();
                })
                return;
            }
            const range = document.createRange();
            range.selectNodeContents(codeBlock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) {
            }
            selection.removeRange(range);
        });
    });

    let peCodeDetails = document.getElementsByClassName('pe-code-details')
    for (let element of peCodeDetails) {
        const peCodeSummary = element.getElementsByClassName('pe-code-details-summary')[0];
        if (peCodeSummary) {
            peCodeSummary.addEventListener('click', () => {
                if (element.classList.contains('open')) {
                    element.classList.remove('open');
                    element.classList.remove('scrollable');
                } else {
                    element.classList.add('open');
                    setTimeout(() => {
                        element.classList.add('scrollable');
                    }, 800);
                }
            }, false);
        }
    }
</script></body>

</html>
